{% extends "base.html" %}

{% block content %}
<div class="card">
  <h1>âœˆï¸ Edit Trip Proposal</h1>
</div>

<div class="card">
    <form method="post">

        {% if not description_final %}
        <div class="form-group">
            <label for="description">ğŸ“„ Description</label>
            <textarea id="description" name="description" maxlength="500" rows="4">{{ proposal.description if proposal.description else '' }}</textarea>
        </div>
        {% endif %}

        {% if not destination_final %}
        <div class="form-group">
            <label for="destination">ğŸ“ Destination*</label>
            <input type="text" id="destination" name="destination" maxlength="100" value="{{ proposal.destination }}" required>
        </div>
        {% endif %}

        {% if not budget_final %}
        <div class="form-group">
            <label for="budget">ğŸ’° Budget (EUR)</label>
            <input type="number" id="budget" step="0.01" name="budget" value="{{ proposal.budget }}">
        </div>
        {% endif %}

        {% if not departure_locations_final %}
        <div class="form-group">
            <label for="departure_locations">ğŸš‚ Departure locations (comma-separated)</label>
            <input type="text" id="departure_locations" name="departure_locations" maxlength="200" value="{{ proposal.departure_locations if proposal.departure_locations else '' }}">
        </div>
        {% endif %}

        {% if not activities_final %}
        <div class="form-group">
            <label for="activities">ğŸ¯ Activities (comma-separated)</label>
            <input type="text" id="activities" name="activities" maxlength="200" value="{{ proposal.activities if proposal.activities else '' }}">
        </div>
        {% endif %}

        {% if not start_date_final %}
        <div class="form-group">
            <label for="start_date">ğŸ—“ï¸ Start Date*</label>
            <input type="date" id="start_date" name="start_date" value="{{ proposal.start_date.strftime('%Y-%m-%d') }}">
        </div>
        {% endif %}

        {% if not end_date_final %}
        <div class="form-group">
            <label for="end_date">ğŸ—“ï¸ End Date*</label>
            <input type="date" id="end_date" name="end_date" value="{{ proposal.end_date.strftime('%Y-%m-%d') }}">
        </div>
        {% endif %}

        {% if not max_participants_final %}
        <div class="form-group">
            <label for="max_participants">ğŸ‘¥ Max Participants*</label>
            <input type="number" id="max_participants" name="max_participants" value="{{ proposal.max_participants }}" min="1">
        </div>
        {% endif %}

        <div class="form-group">
            <button type="submit" class="btn btn-primary">âœ¨ Save Changes</button>
            <a href="{{ url_for('trip.detail', trip_id=proposal.id) }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}