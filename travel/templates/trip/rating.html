{% extends "base.html" %}

{% block title %}Rate Participants{% endblock %}

{% block content %}
<div class="card">
  <h2>Rate participants for trip <em>{{ proposal.title }}</em></h2>

{% if not users %}
    <p class="text-muted">No participants to rate.</p>
{% else %}
    <form method="POST" action="{{ url_for('trip.submit_ratings', trip_id=proposal.id) }}">

        {% for user in users %}
        <div>
            <strong>{{ user.name }}</strong>

            <div class="flex-between">
                {% for i in range(1, 6) %}
                <label class="flex-between">
                    <input type="radio" name="rating_{{ user.id }}" value="{{ i }}" {% if ratings.get(user.id) == i %}checked{% endif %}>
                    {{ "⭐" * i }}
                </label>
                {% endfor %}
            </div>
        </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary">Submit all ratings</button>
    </form>
{% endif %}

</div>

<p class="mt-md">
  <a href="{{ url_for('trip.detail', trip_id=proposal.id) }}" class="btn btn-link">← Back to trip proposal details</a>
</p>
{% endblock %}